<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>rain-2 â€” Monaco + dual rain layers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/styles.css">
  </head>
  <body>
    <div id="app">
      <div id="container">
        <canvas id="rain-back" class="rain-canvas"></canvas>
        <canvas id="connections-layer"></canvas>
        <div id="reference-layer"></div>
        <div id="reference-overlay"></div>
        <div id="holo-layer"></div>
        <div id="editor"></div>
        <div id="scanline-overlay"></div>
        <canvas id="rain-front" class="rain-canvas"></canvas>
        <div id="fog-layer"></div>
        <div id="lightning-layer"></div>
        <div id="vignette-layer"></div>
      </div>

      <div id="tabs-container">
        <div class="tabs-list"></div>
        <div class="depth-controls">
          <button id="btn-depth-forward" title="Bring Forward â€” increase z-depth">â¬†ï¸ Bring Forward</button>
          <button id="btn-depth-back" title="Push Back â€” decrease z-depth">â¬‡ï¸ Push Back</button>
        </div>
      </div>

    <div id="dock">
        <div class="dock-title">RAIN CONTROL</div>

        <div class="dock-group" style="align-items: center; margin-bottom: 5px;">
             <canvas id="radar-canvas" width="160" height="90" style="background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); width: 100%; display: block;"></canvas>
        </div>

        <div class="dock-group">
          <label><span class="icon">â›ˆï¸</span> Storm Intensity</label>
          <input id="storm-intensity" type="range" min="0" max="100" value="30">
        </div>

        <div class="dock-group">
          <label><span class="icon">ğŸ‘ï¸</span> Editor Opacity</label>
          <input id="editor-opacity" type="range" min="0" max="1" step="0.05" value="1">
        </div>

        <div class="dock-group">
            <label><span class="icon">ğŸ“</span> Reference Text</label>
            <textarea id="reference-input" rows="3" placeholder="Paste reference here..."></textarea>
        </div>

        <div class="dock-group">
          <label><span class="icon">ğŸ¨</span> Theme</label>
          <select id="theme-select" style="background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: #c0c0d0; padding: 4px; font-family: inherit; font-size: 11px; width: 100%; margin-top: 5px; cursor: pointer;">
             <option value="cyberpunk">Cyberpunk</option>
             <option value="journal">Journal</option>
             <option value="blueprint">Blueprint</option>
          </select>
        </div>

        <div class="dock-toggles">
           <label title="Back Rain"><input id="toggle-back" type="checkbox" checked> Back Rain</label>
           <label title="Front Rain"><input id="toggle-front" type="checkbox" checked> Front Rain</label>
           <label title="Front Rain on Top"><input id="toggle-front-on-top" type="checkbox" checked> Rain Layering</label>
           <label title="Focus Mode"><input id="focus-mode" type="checkbox"> Focus Mode</label>
           <label title="Blueprint Mode"><input id="blueprint-mode" type="checkbox"> Blueprint Mode</label>
           <label title="Lantern Mode"><input id="lantern-mode" type="checkbox" checked> Lantern Mode</label>
           <label title="Ghost Mode"><input id="ghost-mode" type="checkbox"> Ghost Mode</label>
        </div>
      </div>
    </div>

    <!-- 3D File Cabinet toggle button -->
    <button id="btn-cabinet" title="Open 3D File Cabinet" style="
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 40;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.18);
      color: #c0d0e0;
      font-family: inherit;
      font-size: 13px;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      backdrop-filter: blur(6px);
      transition: background 0.2s;
    ">ğŸ—„ï¸ File Cabinet</button>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>